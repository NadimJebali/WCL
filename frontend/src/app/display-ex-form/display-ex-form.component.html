<button class="btn btn-link text-decoration-none mb-3" (click)="goBack()" style="font-size: 1.5rem;">
  ◀️ <span class="ms-1">Back</span>
</button>

<div class="container mt-4">
  <h2>{{ exercice?.title }}</h2>
  <p><strong>Description:</strong> {{ exercice?.content }}</p>

  <div class="solution-area mt-4">
    <label for="userSolution" class="form-label">Your Answer</label>
    <textarea
      [(ngModel)]="userSolution"
      id="userSolution"
      class="form-control"
      rows="5"
      placeholder="Type your answer here..."
    ></textarea>

    <div class="mt-3">
      <label for="languageSelect" class="form-label">Select AI Feedback Language</label>
      <select [(ngModel)]="selectedLanguage" class="form-select" id="languageSelect">
        <option value="en">English</option>
        <option value="fr">French</option>
        <option value="ar">Arabic</option>
      </select>
    </div>

    <div class="text-end mt-3">
      <button (click)="submitAnswer()" class="btn btn-primary">
        Submit Answer
      </button>
    </div>
  </div>

  <div
    #feedbackCard
    class="card mt-4 border"
    style="display: none;"
  >
    <div class="card-header">AI Feedback</div>
    <div class="card-body">
      <p #feedbackText class="card-text"></p>
    </div>
  </div>
  <div *ngIf="currentUser?.role === 'ADMIN' || currentUser?.role === 'TEACHER'"  class="mt-4 d-flex justify-content-between">
    <button (click)="editExercice()" class="btn btn-warning">
      Edit Exercise
    </button>
    <button (click)="deleteExercice()" class="btn btn-danger">
      Delete Exercise
    </button>
  </div>
</div>
